Version 4.1
SHEET 1 880 788
WIRE 224 -112 80 -112
WIRE 80 -16 80 -112
WIRE 224 -16 224 -112
WIRE 816 0 704 0
WIRE 704 96 704 0
WIRE 816 112 816 0
WIRE 432 144 304 144
WIRE 640 160 496 160
WIRE 224 176 224 64
WIRE 432 176 224 176
WIRE 640 176 640 160
WIRE 656 176 640 176
WIRE 224 240 224 176
WIRE 368 304 336 304
WIRE 480 304 432 304
WIRE 336 320 336 304
WIRE 304 384 304 144
WIRE 480 384 480 304
WIRE 480 384 304 384
WIRE 528 384 480 384
WIRE 704 384 704 192
WIRE 704 384 608 384
WIRE 784 384 704 384
WIRE 784 432 784 384
WIRE 224 560 224 240
WIRE 528 560 224 560
WIRE 784 560 784 512
WIRE 784 560 608 560
WIRE 784 576 784 560
FLAG 80 64 0
FLAG 336 320 0
FLAG 816 192 0
FLAG 224 240 Vref
FLAG 784 576 0
SYMBOL voltage 80 -32 R0
SYMATTR InstName V1
SYMATTR Value 5
SYMBOL voltage 816 96 R0
SYMATTR InstName V2
SYMATTR Value 20
SYMBOL res 208 -32 R0
SYMATTR InstName R3
SYMATTR Value 60k
SYMBOL res 624 368 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 20k
SYMBOL res 624 544 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 300
SYMBOL diode 368 320 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D1
SYMBOL OpAmps\\opamp 464 96 R0
SYMATTR InstName U1
SYMBOL res 768 416 R0
SYMATTR InstName R2
SYMATTR Value .1
SYMBOL nmos 656 96 R0
SYMATTR InstName M1
TEXT 40 680 Left 2 !.tran 10u
TEXT 40 712 Left 2 !.lib opamp.sub
